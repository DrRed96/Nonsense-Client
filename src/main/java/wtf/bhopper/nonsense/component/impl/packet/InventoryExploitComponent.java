package wtf.bhopper.nonsense.component.impl.packet;

import net.minecraft.network.play.client.C0DPacketCloseWindow;
import wtf.bhopper.nonsense.component.AbstractComponent;
import wtf.bhopper.nonsense.event.EventLink;
import wtf.bhopper.nonsense.event.Listener;
import wtf.bhopper.nonsense.event.impl.packet.EventSendPacket;

public class InventoryExploitComponent extends AbstractComponent {

    private boolean cancelNextC0D = false;

    public void cancelNextC0D() {
        this.cancelNextC0D = true;
    }

    @EventLink
    public final Listener<EventSendPacket> onSendPacket = event -> {
        if (event.packet instanceof C0DPacketCloseWindow) {
            if (this.cancelNextC0D) {
                event.cancel();
                this.cancelNextC0D = false;
            }
        }
    };

}
